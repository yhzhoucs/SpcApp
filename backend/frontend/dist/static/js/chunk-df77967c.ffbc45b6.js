(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-df77967c"],{"2b09":function(t,a,s){},"3ca3":function(t,a,s){"use strict";var i=s("6547").charAt,e=s("69f3"),c=s("7dd0"),o="String Iterator",r=e.set,n=e.getterFor(o);c(String,"String",(function(t){r(this,{type:o,string:String(t),index:0})}),(function(){var t,a=n(this),s=a.string,e=a.index;return e>=s.length?{value:void 0,done:!0}:(t=i(s,e),a.index+=t.length,{value:t,done:!1})}))},"4df4":function(t,a,s){"use strict";var i=s("0366"),e=s("7b0b"),c=s("9bdd"),o=s("e95a"),r=s("50c4"),n=s("8418"),l=s("35a1");t.exports=function(t){var a,s,d,u,v,p,h=e(t),f="function"==typeof this?this:Array,m=arguments.length,C=m>1?arguments[1]:void 0,g=void 0!==C,y=l(h),_=0;if(g&&(C=i(C,m>2?arguments[2]:void 0,2)),void 0==y||f==Array&&o(y))for(a=r(h.length),s=new f(a);a>_;_++)p=g?C(h[_],_):h[_],n(s,_,p);else for(u=y.call(h),v=u.next,s=new f;!(d=v.call(u)).done;_++)p=g?c(u,C,[d.value,_],!0):d.value,n(s,_,p);return s.length=_,s}},6547:function(t,a,s){var i=s("a691"),e=s("1d80"),c=function(t){return function(a,s){var c,o,r=String(e(a)),n=i(s),l=r.length;return n<0||n>=l?t?"":void 0:(c=r.charCodeAt(n),c<55296||c>56319||n+1===l||(o=r.charCodeAt(n+1))<56320||o>57343?t?r.charAt(n):c:t?r.slice(n,n+2):o-56320+(c-55296<<10)+65536)}};t.exports={codeAt:c(!1),charAt:c(!0)}},"8d83":function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"main-container"},[s("div",{staticClass:"page-header"},[s("ol",{staticClass:"breadcrumb"},[s("li",{staticClass:"breadcrumb-item"},[t._v("欢迎, "+t._s(t.currentUser.username))])]),s("div",{staticClass:"app-actions"},[s("button",{class:"7days"===t.periodTime?t.TAG_ACTIVE:t.TAG_SHUT,attrs:{type:"button"},on:{click:function(a){return t.changePeriod("7days")}}},[t._v("近7天 ")]),s("button",{class:"15days"===t.periodTime?t.TAG_ACTIVE:t.TAG_SHUT,attrs:{type:"button"},on:{click:function(a){return t.changePeriod("15days")}}},[t._v(" 近15天 ")]),s("button",{class:"1month"===t.periodTime?t.TAG_ACTIVE:t.TAG_SHUT,attrs:{type:"button"},on:{click:function(a){return t.changePeriod("30days")}}},[t._v(" 近30天 ")]),s("button",{class:"1year"===t.periodTime?t.TAG_ACTIVE:t.TAG_SHUT,attrs:{type:"button"},on:{click:function(a){return t.changePeriod("1year")}}},[t._v("近1年 ")])])]),s("div",{staticClass:"row gutters"},[s("div",{staticClass:"col-xl-3 col-lg-6 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"info-stats2"},[t._m(0),s("div",{staticClass:"sale-num"},[s("h3",[t._v(t._s(t.basicInfo.storeBatches))]),s("p",[t._v("入库批数")])])])]),s("div",{staticClass:"col-xl-3 col-lg-6 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"info-stats2"},[t._m(1),s("div",{staticClass:"sale-num"},[s("h3",[t._v(t._s(t.basicInfo.storeAmount))]),s("p",[t._v("入库量")])])])]),s("div",{staticClass:"col-xl-3 col-lg-6 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"info-stats2"},[t._m(2),s("div",{staticClass:"sale-num"},[s("h3",[t._v(t._s(t.basicInfo.deliverBatches))]),s("p",[t._v("出库批数")])])])]),s("div",{staticClass:"col-xl-3 col-lg-6 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"info-stats2"},[t._m(3),s("div",{staticClass:"sale-num"},[s("h3",[t._v(t._s(t.basicInfo.deliverAmount))]),s("p",[t._v("出库量")])])])])]),t._m(4),s("div",{staticClass:"row gutters"},[s("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[s("div",{staticClass:"card"},[t._m(5),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row gutters align-items-center"},[t._m(6),s("div",{staticClass:"col-xl-2 col-lg-3 col-md-12 col-sm-12 col-12"},[s("div",{staticClass:"monthly-avg"},[s("h5",[t._v(t._s(t.period_for_show))]),s("div",{staticClass:"avg-block"},[s("h3",{staticClass:"avg-total text-info"},[t._v(t._s(t.basicInfo.storeMoney))]),s("h6",{staticClass:"avg-label"},[t._v("入库总金额")])]),s("div",{staticClass:"avg-block"},[s("h3",{staticClass:"avg-total text-success"},[t._v(t._s(t.basicInfo.deliverMoney))]),s("h6",{staticClass:"avg-label"},[t._v("出库总金额")])])])])])])])])]),s("div",{staticClass:"row gutters"},[t._m(7),s("div",{staticClass:"col-xl-4 col-lg-12 col-md-12 col-sm-12 col-12"},[s("div",{staticClass:"card"},[t._m(8),s("div",{staticClass:"card-body"},[s("ul",{staticClass:"team-activity"},t._l(t.affairs,(function(a,i){return s("li",{key:i,staticClass:"product-list clearfix"},[s("div",{staticClass:"product-time"},[s("p",{staticClass:"date center-text"},[t._v(t._s(a.time))]),s("span",{class:["badge","store"===a.type?"badge-info":"badge-success"]},[t._v(" "+t._s("store"===a.type?"入库":"出库")+" ")])]),s("div",{staticClass:"product-info"},[s("div",{staticClass:"activity"},[s("h6",[t._v(t._s(a.detail))]),s("p",[t._v(t._s(a.operator))])])])])})),0)])])]),t._m(9)])])},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"info-icon info"},[s("i",{staticClass:"icon-download"})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"info-icon info"},[s("i",{staticClass:"icon-download"})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"info-icon success"},[s("i",{staticClass:"icon-upload"})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"info-icon success"},[s("i",{staticClass:"icon-upload"})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"row gutters"},[s("div",{staticClass:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"tiny-pie-chart",attrs:{id:"todayPutInGraph"}})])]),s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"tiny-pie-chart",attrs:{id:"todayShippingGraph"}})])])]),s("div",{staticClass:"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"card-title"},[t._v("出入库月份变化")])]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"dynamic-chart",attrs:{id:"dynamicLineGraph"}})])])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"card-header"},[s("div",{staticClass:"card-title"},[t._v("出入库动态")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-xl-10 col-lg-9 col-md-12 col-sm-12 col-12"},[s("div",{staticClass:"chart",attrs:{id:"lineRevenueGraph"}})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-xl-4 col-lg-12 col-md-12 col-sm-12 col-12"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"card-title"},[t._v("仓库占用情况")])]),s("div",{staticClass:"card-body pt-0"},[s("div",{staticClass:"chart2",attrs:{id:"occupationStateGraph"}})])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"card-header"},[s("div",{staticClass:"card-title"},[t._v("动态")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-xl-4 col-lg-12 col-md-12 col-sm-12 col-12"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"card-title"},[t._v("待处理的货物")])]),s("div",{staticClass:"card-body pt-0"},[s("div",{attrs:{id:"radialTasks"}}),s("ul",{staticClass:"task-list-container"},[s("li",{staticClass:"task-list-item"},[s("div",{staticClass:"task-icon bg-info"},[s("i",{staticClass:"icon-clipboard"})]),s("div",{staticClass:"task-info"},[s("h6",{staticClass:"task-title"},[t._v("待处理")]),s("p",{staticClass:"amount-spend text-info"},[t._v("12")])])]),s("li",{staticClass:"task-list-item"},[s("div",{staticClass:"task-icon bg-success"},[s("i",{staticClass:"icon-clipboard"})]),s("div",{staticClass:"task-info"},[s("h6",{staticClass:"task-title"},[t._v("已处理")]),s("p",{staticClass:"amount-spend text-success"},[t._v("15")])])])])])])])}],c=(s("a630"),s("fb6a"),s("3ca3"),s("64dc")),o=s("313e"),r={name:"KanBan",data:function(){return{TAG_SHUT:["btn"],TAG_ACTIVE:["btn","active"],basicInfo:{storeBatches:0,storeAmount:0,deliverBatches:0,deliverAmount:0,storeMoney:0,deliverMoney:0},storeDeliverGraph:null,occupationStateGraph:null,dynamicLineGraph:null,todayPutInGraph:null,todayShippingGraph:null,periodTime:"7days",affairs:[]}},computed:{currentUser:function(){return this.$store.getters["user/currentUser"]},period_for_show:function(){var t={today:"今天","7days":"近7天","15days":"近15天","1month":"近30天","1year":"近1年"};return t[this.periodTime]}},methods:{changePeriod:function(t){var a=this;this.periodTime=t,c["a"].getWarehouseKanbanInfo(this.periodTime,(function(t){a.basicInfo=t.basicInfo,t.storeDeliverGraphOpiton&&a.storeDeliverGraph.setOption(t.storeDeliverGraphOpiton,!0),t.occupationStateGraphOption&&a.occupationStateGraph.setOption(t.occupationStateGraphOption,!0)}))},_dataFormatter:function(t){for(var a,s=Array.from({length:31},(function(t,a){return a+1})),i=(new Date).getMonth(),e=0;e<12;e++){var c=(i+e)%12+1,o=0;a=t[c];for(var r=0,n=a.length;r<n;r++)o+=a[r],t[c][r]={name:s[r],value:a[r]};t[c+"sum"]=o}return t},dataToOptionForDynamic:function(t){for(var a=[],s=(new Date).getMonth(),i=0;i<12;i++)a.push((s+i)%12+1);for(var e=a,c=[],o={putInData:this._dataFormatter(t.putInData),shippingData:this._dataFormatter(t.shippingData)},r=0;r<12;++r){var n=a[r];c.push({title:{text:(n>s?"去年":"")+n+"月出入库情况"},series:[{data:o.putInData[n]},{data:o.shippingData[n]},{data:[{name:"入库",value:o.putInData[n+"sum"]},{name:"出库",value:o.shippingData[n+"sum"]}]}]})}return{baseOption:{timeline:{axisType:"category",autoPlay:!0,playInterval:1e3,data:e,label:{formatter:function(t){return t+"月"}}},title:{subtext:"数据来自本系统"},tooltip:{},legend:{left:"right",data:["入库","出库"],selected:{}},calculable:!0,grid:{top:80,bottom:100,tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{show:!0}}}},xAxis:[{type:"category",axisLabel:{interval:0},data:Array.from({length:31},(function(t,a){return a+1})),splitLine:{show:!1}}],yAxis:[{type:"value",name:"商品数（个）"}],series:[{name:"入库",type:"bar"},{name:"出库",type:"bar"},{name:"出入库占比",type:"pie",center:["75%","35%"],radius:"28%",z:100}]},options:c}},dataToOptionForToday:function(t,a){for(var s=[],i=[],e=0;e<t.length;++e)s.push(t[e][0]),i.push({value:t[e][1],name:t[e][0]});return{title:{text:"今日"+(0===a?"入库":"出库")+"产品",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",top:"bottom",data:s.slice(s.length-Math.min(s.length,3))},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1}}},series:[{name:(0===a?"入库":"出库")+"情况",type:"pie",radius:["20%","70%"],center:["50%","50%"],roseType:"area",label:{show:!1},itemStyle:{borderRadius:5},data:i}]}}},mounted:function(){var t=this,a=document.getElementById("lineRevenueGraph");this.storeDeliverGraph=o["a"](a);var s=document.getElementById("occupationStateGraph");this.occupationStateGraph=o["a"](s);var i=document.getElementById("dynamicLineGraph");this.dynamicLineGraph=o["a"](i);var e=document.getElementById("todayPutInGraph");this.todayPutInGraph=o["a"](e);var r=document.getElementById("todayShippingGraph");this.todayShippingGraph=o["a"](r);var n=this.storeDeliverGraph,l=this.occupationStateGraph,d=this.dynamicLineGraph,u=this.todayPutInGraph,v=this.todayShippingGraph;window.onresize=function(){n.resize(),l.resize(),d.resize(),u.resize(),v.resize()},c["a"].getWarehouseKanbanInfo(this.periodTime,(function(a){t.basicInfo=a.basicInfo,a.storeDeliverGraphOpiton&&t.storeDeliverGraph.setOption(a.storeDeliverGraphOpiton,!0),a.occupationStateGraphOption&&t.occupationStateGraph.setOption(a.occupationStateGraphOption,!0)})),c["a"].getWarehouseAffairs((function(a){return t.affairs=a})),c["a"].getTodayStatistics((function(a){t.todayPutInGraph.setOption(t.dataToOptionForToday(a.putInData,0)),t.todayShippingGraph.setOption(t.dataToOptionForToday(a.shippingData,1))}),(function(t){return console.log(t)})),c["a"].getFullYearStatistics((function(a){t.dynamicLineGraph.setOption(t.dataToOptionForDynamic(a),!0)}),(function(t){return console.log(t)}))}},n=r,l=(s("8ef8"),s("2877")),d=Object(l["a"])(n,i,e,!1,null,"6b277c92",null);a["default"]=d.exports},"8ef8":function(t,a,s){"use strict";s("2b09")},"9bdd":function(t,a,s){var i=s("825a"),e=s("2a62");t.exports=function(t,a,s,c){try{return c?a(i(s)[0],s[1]):a(s)}catch(o){throw e(t),o}}},a630:function(t,a,s){var i=s("23e7"),e=s("4df4"),c=s("1c7e"),o=!c((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:o},{from:e})},fb6a:function(t,a,s){"use strict";var i=s("23e7"),e=s("861d"),c=s("e8b5"),o=s("23cb"),r=s("50c4"),n=s("fc6a"),l=s("8418"),d=s("b622"),u=s("1dde"),v=s("ae40"),p=u("slice"),h=v("slice",{ACCESSORS:!0,0:0,1:2}),f=d("species"),m=[].slice,C=Math.max;i({target:"Array",proto:!0,forced:!p||!h},{slice:function(t,a){var s,i,d,u=n(this),v=r(u.length),p=o(t,v),h=o(void 0===a?v:a,v);if(c(u)&&(s=u.constructor,"function"!=typeof s||s!==Array&&!c(s.prototype)?e(s)&&(s=s[f],null===s&&(s=void 0)):s=void 0,s===Array||void 0===s))return m.call(u,p,h);for(i=new(void 0===s?Array:s)(C(h-p,0)),d=0;p<h;p++,d++)p in u&&l(i,d,u[p]);return i.length=d,i}})}}]);
//# sourceMappingURL=chunk-df77967c.ffbc45b6.js.map